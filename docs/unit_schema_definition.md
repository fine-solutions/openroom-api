# SVG план корпуса

Объекты `корпус`, `этаж` и `помещение` добавляются в систему на основе парсинга svg-плана корпуса. Чтобы этот процесс прошёл корректно, план корпуса должен соответствовать определённой структуре xml-документа.


## Инструменты

Для создания плана корпуса подходят любые вектоорные графические редакторы, поддерживающие экспорт документов в формате svg и добавление xml-аттрибутов объектам рисунка.

В качестве примера, можно рекомендовать бесплатный редактор *Inkscape*.


## Теги и атрибуты

Для определения объектов приложения на схеме используются xml-атрибуты. При этом каждый объект должен быть представлен в виде группы (xml-тег `<g>`).

Такой подход не накладывает строгое ограничение на структуру документа и позволяет избежать конфликтов со служебными атрибутами и тегами, создаваемыми графическим редактором. За счёт этого достигается относительная свобода в выборе используемых инструментов и стиля работы в графическом редакторе.


## Объекты svg-схемы

Ниже приведён список объектов, определяемых на svg-схеме. Фактически, это части svg-изображения, сгруппированные тегом `<g>` и наделённые xml-атрибутами для корректного сопоставления с объектами данных приложения.

### `floor`

**Описание:** Объект, представляющий этаж здания.

**Атрибуты:**
- `type`\
Атрибут, указывающий на тип объекта. Для всех объектов этого типа должен иметь значение `type=floor`
- `floor-name`\
Название этажа. Любое текстовое значение.
- `floor-level`\
Фактический порядковый номер этажа. Надземные этажи нумеруются снизу вверх, начиная с 1. Подземные этажи нумеруются сверху вниз, начиная с -1.

### `room`

**Описание:** Объект, представляющий помещение. Должен быть вложен в группу, представляющую объект этажа.

**Атрибуты:**
- `type`\
Атрибут, указывающий на тип объекта. Для всех объектов этого типа, должен иметь значение `type=room`
- `room-name`\
Название комнаты. Любое текстовое значение.


## Структура документа

План корпуса содержится в едином svg-документе. Примерная структура документа приведена ниже.

```svg
<svg ...>
    ...
    <g type="floor" floor-name="Этаж 1" floor-level="1">
        ...
        <g type="room" room-name="Аудитория №106">
            ...
        </g>
        <g type="room" room-name="Аудитория №107">
            ...
        </g>
        ...
    <g>
    <g type="floor" floor-name="Этаж 2" floor-level="2">
        ...
        <g type="room" room-name="Аудитория №203">
            ...
        </g>
        <g type="room" room-name="Аудитория №201">
            ...
        </g>
        ...
    <g>
    ...
</svg>
```


## Пример

[Пример схемы ](/docs/examples/example_unit.svg)
